{% extends 'base.html.twig' %}

{% block title %}Mon Portfolio - Projets et Réalisations{% endblock %}

{% block body %}
    {# Header Section #}
    <section class="portfolio-header mb-5" data-aos="fade-up">
        <div class="card bg-gradient">
            <div class="card-body p-5">
                <h1 class="display-4 fw-bold mb-4 text-dark">Portfolio</h1>
                <p class="lead mb-0 text-dark">Découvrez mes projets et réalisations dans le domaine des réseaux et télécommunications.</p>
            </div>
        </div>
    </section>

    {# Projects Section with iframes #}
    <section class="mb-5">
        <h2 class="h3 mb-4"><i class="fas fa-project-diagram me-2"></i>Mes Domaines d'Expertise</h2>
        <div class="row g-4">
            {# Projet 1 - Réseaux #}
            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
                <div class="card h-100 project-card">
                    <div class="card-body text-center">
                        <div class="icon-wrapper mb-3">
                            <i class="fas fa-network-wired fa-3x text-primary"></i>
                        </div>
                        <h3 class="h5 mb-3">Infrastructure Réseau</h3>
                        <p class="text-muted mb-4">Configurer les fonctions de base du réseau local</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal1">
                            Voir le Projet
                        </button>
                    </div>
                </div>
            </div>

            {# Projet 2 - Architechture #}
            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="200">
                <div class="card h-100 project-card">
                    <div class="card-body text-center">
                        <div class="icon-wrapper mb-3">
                            <i class="fas fa-shield-alt fa-3x text-primary"></i>
                        </div>
                        <h3 class="h5 mb-3">Architecture Web</h3>
                        <p class="text-muted mb-4">Connaître l’architecture et les technologies d’un site Web</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal2">
                            Voir le Projet
                        </button>
                    </div>
                </div>
            </div>

            {# Projet 3 - Développement #}
            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="300">
                <div class="card h-100 project-card">
                    <div class="card-body text-center">
                        <div class="icon-wrapper mb-3">
                            <i class="fas fa-code fa-3x text-primary"></i>
                        </div>
                        <h3 class="h5 mb-3">Développement Python</h3>
                        <p class="text-muted mb-4">Configurer les fonctions de base du réseau local</p>
                        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal3">
                            Voir le Projet
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {# Modals for iframes #}
    {% for i in 1..5 %}
        <div class="modal fade" id="modal{{ i }}" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header border-0">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body p-0">
                        <div class="ratio ratio-16x9">
                            <iframe src="{{ portfolio.iframes[i-1] }}" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}

    {# Custom CSS #}
    <style>
        .bg-gradient {
            background: linear-gradient(135deg, #007bff 0%, #00ff88 100%);
        }

        .project-card {
            transition: transform 0.3s ease;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .project-card:hover {
            transform: translateY(-10px);
        }

        .icon-wrapper {
            height: 80px;
            width: 80px;
            background: rgba(0, 123, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            transition: all 0.3s ease;
        }

        .project-card:hover .icon-wrapper {
            background: rgba(0, 123, 255, 0.2);
            transform: scale(1.1);
        }

        .modal-content {
            border-radius: 15px;
            overflow: hidden;
        }

        .modal-header {
            position: absolute;
            right: 0;
            z-index: 1;
            background: transparent;
        }

        .btn-close {
            background-color: white;
            opacity: 0.8;
            border-radius: 50%;
            margin: 10px;
        }

        .btn-close:hover {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .portfolio-header .display-4 {
                font-size: 2rem;
            }
        }
    </style>
{% endblock %}

{% block javascripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Gestion des modals
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => {
            modal.addEventListener('show.bs.modal', () => {
                document.body.style.overflow = 'hidden';
            });
            
            modal.addEventListener('hidden.bs.modal', () => {
                document.body.style.overflow = '';
            });
        });
    });
</script>
{% endblock %}